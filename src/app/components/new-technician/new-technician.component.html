<div class="card">
    <div class="card-header">Pridėti naują techninės apžiūros darbuotoją</div>
    <div class="card-body">
        <form [formGroup]="technicianForm" (ngSubmit)="onSubmit()">
            <div class="mb-3">
                <label class="form-label">Vardas:</label>
                <input type="text" formControlName="name" class="form-control" >
                <span class="help-block" *ngIf="!technicianForm.get('name')?.valid && technicianForm.get('name')?.touched">Vardas yra privalomas ir turi būti nuo 3 iki 16 simbolių</span>
            </div>
            <div class="mb-3">
                <label class="form-label">Pavardė:</label>
                <input type="text" formControlName="surname" class="form-control">
                <span class="help-block" *ngIf="!technicianForm.get('surname')?.valid && technicianForm.get('surname')?.touched">Pavardė yra privaloma ir turi būti nuo 3 iki 16 simbolių</span>
            </div>
            <div class="mb-3">
                <label for="" class="form-label">Lygis (1,3,5)</label>
                <input type="number" class="form-control" formControlName="level">
                <span class="help-block" *ngIf="!technicianForm.get('level')?.valid && technicianForm.get('level')?.touched">Galimas techniko lygis 1,3,5. 2 ir 4 lygio technikai netinkami</span>
            </div>
            <hr>
            <h4>Išsilavinimas</h4>
            <button type="button" class="btn btn-success" (click)="addEducation()" >Pridėti išsilavinimo įrašą</button>
            <div formArrayName="education">
                <div class="mb-3 mt-3" *ngFor="let educationItem of educations; let i = index">
                    <input type="text" class="form-control" [formControlName]="i">
                </div>
            </div>
            <hr>
            <h4>Darbo adresai</h4>
            <button type="button" class="btn btn-success" (click)="addAddress()">Pridėti naują adresą</button>
            <div formArrayName="address">
                <div *ngFor="let adr of addresses; let i=index">
                    <div class="row mt-3 mb-3" [formGroup]="toFromGroup(adr)" >
                        <div class="col-md-6">
                            <label for="" class="form-label">Miestas</label>
                            <input type="text" class="form-control" formControlName="city">
                        </div>
                        <div class="col-md-6">
                            <label for="" class="form-label">Gatvė ir namo numeris</label>
                            <input type="text" class="form-control" formControlName="street">
                        </div>
                    </div>

                </div>
            </div>
            <button type="submit" [disabled]="!technicianForm.valid" class="btn btn-success" >Pridėti</button>
        </form>
    </div>
    
</div>